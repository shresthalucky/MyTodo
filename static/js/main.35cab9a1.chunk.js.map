{"version":3,"sources":["api/ApiUtils.js","components/Input/Input.jsx","components/Input/index.js","components/Button/Button.jsx","components/Button/index.js","pages/Login/index.js","pages/Login/Login.js","components/Nav/Nav.jsx","components/Nav/index.js","components/Todo/Todo.jsx","components/Todo/index.js","components/Modal/Modal.jsx","components/Modal/index.js","hoc/withLoading.js","pages/Home/Home.js","components/List/List.jsx","pages/Home/index.js","routes.js","App.js","index.js"],"names":["baseUrl","process","instance","axois","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","authorization","err","Promise","reject","Input","type","name","value","changeHandler","placeholder","className","onChange","Button","disabled","clickHandler","icon","children","onClick","Login","props","handleInput","e","setState","target","toggleDisable","isDisable","state","setErrorMessage","message","errorMessage","handleLogin","preventDefault","Api","post","username","password","then","res","tokenHandler","data","catch","response","handleRegister","from","this","location","pathname","to","onSubmit","React","Component","Nav","links","map","path","key","Todo","detail","deleteHandler","updateHandler","editHandler","id","title","description","created","updated","status","useState","setIsDisable","showAction","setShowAction","Date","toDateString","stopPropagation","put","todo","console","log","finally","delete","Form","Modal","submitHandler","initialData","loading","setTitle","setDescription","handleChange","withLoading","EnchancedList","isLoading","error","list","Home","handleForm","toggleFormLoading","editTodo","addNewTodo","toggleModal","todoList","handleUpdate","isPosting","modalData","showModal","handleDelete","filter","nav","get","currentPath","split","logoutHandler","Routes","basename","exact","render","renderProps","App","setToken","setItem","removeToken","removeItem","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35cab9a1.chunk.js","sourcesContent":["import axois from 'axios';\n\nconst baseUrl = `${process.env.REACT_APP_API_DOMAIN}/api`;\n\nconst instance = axois.create({\n  baseURL: baseUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\ninstance.interceptors.request.use(config => {\n  const token = localStorage.getItem('token') || '';\n  \n  if (token) {\n    config.headers.authorization = token;\n  }\n\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\n\nexport default instance;\n","import React from 'react';\n\nfunction Input({ type, name, value, changeHandler, placeholder }) {\n  return (\n    <input\n      className=\"input input--primary\"\n      type={type}\n      name={name}\n      value={value}\n      onChange={changeHandler}\n      placeholder={placeholder} />\n  );\n}\n\nexport default Input;\n","import Input from './Input';\n\nexport default Input;\n","import React from 'react';\n\nfunction Button({ type, disabled, clickHandler, className, icon, children }) {\n\n  return (\n    <button\n      className={`btn btn--${className ? className : 'primary'}`}\n      type={type}\n      onClick={clickHandler}\n      disabled={disabled}>\n      {icon}\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import Button from './Button';\n\nexport default Button;\n","import Login from './Login';\n\nexport default Login;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { RiLoginCircleLine, RiAddCircleLine } from 'react-icons/ri';\n\nimport Api from '../../api/ApiUtils';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      isDisable: false,\n      errorMessage: '‏‏‎ ‎'\n    }\n  }\n\n  handleInput = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  toggleDisable = () => {\n    this.setState({\n      isDisable: !this.state.isDisable\n    });\n  }\n\n  setErrorMessage = (message) => {\n    this.setState({\n      errorMessage: message\n    });\n  }\n\n  handleLogin = (e) => {\n\n    e.preventDefault();\n    this.setErrorMessage('Logging in...');\n    this.toggleDisable();\n\n    Api.post('/users/login', {\n      username: this.state.username,\n      password: this.state.password\n    })\n      .then(res => {\n        this.props.tokenHandler(res.data);\n      })\n      .catch(err => {\n        this.setErrorMessage(err.response.data.message);\n        this.toggleDisable();\n      });\n  }\n\n  handleRegister = (e) => {\n\n    this.setErrorMessage('Registering...');\n    this.toggleDisable();\n\n    Api.post('/users/register', {\n      username: this.state.username,\n      password: this.state.password\n    })\n      .then(res => {\n        this.props.tokenHandler(res.data);\n      })\n      .catch(err => {\n        this.setErrorMessage(err.response.data.message);\n        this.toggleDisable();\n      });\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\n\n    if (this.props.token) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div className=\"outer-wrapper\">\n        <div className=\"outer-wrapper__cell\">\n          <div className=\"login-wrapper\">\n            <form onSubmit={this.handleLogin}>\n              <div className=\"login-wrapper__input\">\n                <Input type=\"text\" changeHandler={this.handleInput} value={this.state.username} name=\"username\" placeholder=\"username\" />\n              </div>\n              <div className=\"login-wrapper__input\">\n                <Input type=\"password\" changeHandler={this.handleInput} value={this.state.password} name=\"password\" placeholder=\"password\" />\n              </div>\n              <div className=\"errorMessage\">{this.state.errorMessage}</div>\n              <div className=\"login-buttons\">\n                <Button\n                  type=\"submit\"\n                  className=\"purple\"\n                  clickHandler={this.handleLogin}\n                  icon={<RiLoginCircleLine />}\n                  disabled={this.state.isDisable}>\n                  Login</Button>\n\n                <Button\n                  type=\"button\"\n                  className=\"blue\"\n                  clickHandler={this.handleRegister}\n                  icon={<RiAddCircleLine />}\n                  disabled={this.state.isDisable}>\n                  Register</Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction Nav({ links }) {\n  return (\n    links.map(path => <NavLink to={path.to} key={path.name}>{path.name}</NavLink>)\n  );\n}\n\nexport default Nav;\n","import Nav from './Nav';\n\nexport default Nav;\n","import React, { useState } from 'react';\n\nimport Api from '../../api/ApiUtils';\nimport Button from '../Button';\n\nfunction Todo({ detail, deleteHandler, updateHandler, editHandler }) {\n\n  const { id, title, description, created, updated, status } = detail;\n  const [isDisable, setIsDisable] = useState(false);\n  const [showAction, setShowAction] = useState(false);\n\n  const toggleShowAction = () => {\n    setShowAction(!showAction);\n  }\n\n  const deleteTodo = (e) => {\n    e.stopPropagation();\n    setIsDisable(true);\n\n    Api.delete(`/todos/${id}`)\n      .then(() => {\n        deleteHandler(id);\n      })\n      .catch(err => console.log(err));\n  }\n\n  const toggleStatus = (e) => {\n    e.stopPropagation();\n    setIsDisable(true);\n\n    const data = {\n      title,\n      description,\n      status: status === 'active' ? 'done' : 'active'\n    }\n\n    Api.put(`/todos/${id}`, data)\n      .then(todo => {\n        updateHandler(id, todo.data);\n      })\n      .catch(err => console.log(err))\n      .finally(() => {\n        setIsDisable(false);\n      });\n  }\n\n  const editTodo = (e) => {\n    e.stopPropagation();\n    editHandler(detail);\n  }\n\n  return (\n    <div className=\"todo\" onClick={toggleShowAction}>\n      <div className=\"todo__detail\">\n        <h2>{title}</h2>\n        <p>{description}</p>\n        <div className=\"todo-date\">\n          <span className=\"todo-date__created\">Created on {new Date(created * 1000).toDateString()}</span>\n          {created !== updated &&\n            <span className=\"todo-date__updated\">Updated on {new Date(updated * 1000).toDateString()}</span>\n          }\n        </div>\n      </div>\n      {showAction &&\n        <div className=\"todo__action\">\n          <Button type=\"button\" className=\"green\" clickHandler={toggleStatus} disabled={isDisable}>{status === 'done' ? 'Undone' : 'Done'}</Button>\n          <Button type=\"button\" className=\"purple\" clickHandler={editTodo} disabled={isDisable}>Edit</Button>\n          <Button type=\"button\" className=\"blue\" clickHandler={deleteTodo} disabled={isDisable}>Delete</Button>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default Todo;\n","import Todo from './Todo';\n\nexport default Todo;\n","import React, { useState } from 'react';\n\nimport Button from '../Button';\n\nfunction Form({ submitHandler, initialData, loading }) {\n\n  const [title, setTitle] = useState(initialData.title || '');\n  const [description, setDescription] = useState(initialData.description || '');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const status = initialData.status || 'active';\n    submitHandler({title, description, status}, initialData.id);\n  }\n\n  const handleChange = (e) => {\n    if (e.target.name === 'title') setTitle(e.target.value);\n    if (e.target.name === 'description') setDescription(e.target.value);\n  }\n\n  const handleClear = () => {\n    setTitle('');\n    setDescription('');\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <input name=\"title\" placeholder=\"Title\" onChange={handleChange} value={title} />\n        </div>\n        <div>\n          <textarea name=\"description\" placeholder=\"Description\" onChange={handleChange} value={description} />\n        </div>\n        <div>\n          <Button type=\"reset\" clickHandler={handleClear}>Clear</Button>\n          <Button type=\"submit\">{initialData.title ? 'Update' : 'Add'}</Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Form;\n","import Modal from './Modal';\n\nexport default Modal;\n","import React from 'react';\n\nfunction withLoading(Component) {\n\n  function LoadingComponent({ isLoading, error, ...props }) {\n\n    if (error) {\n      return (\n        <span>Error Occured!</span>\n      );\n    }\n\n    if (!isLoading) {\n      return (<Component {...props} />)\n    }\n\n    return (<div>Loading...</div>);\n\n  }\n\n  return LoadingComponent;\n}\n\nexport default withLoading;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport Api from '../../api/ApiUtils';\nimport Nav from '../../components/Nav';\nimport List from '../../components/List';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport withLoading from '../../hoc/withLoading';\n\nconst EnchancedList = withLoading(List);\n\nclass Home extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      todoList: [],\n      isLoading: true,\n      error: false,\n      isPosting: false,\n      showModal: false\n    }\n\n    this.nav = [\n      { name: 'All', to: '/' },\n      { name: 'Active', to: '/active' },\n      { name: 'Done', to: '/done' },\n    ]\n\n    this.modalData = {};\n  }\n\n  componentDidMount() {\n    if (this.props.token) {\n      Api.get('/todos')\n        .then(list => {\n          this.setState({\n            todoList: list.data,\n            isLoading: false\n          })\n        })\n        .catch(() => {\n          this.setState({ error: true })\n        });\n    }\n  }\n\n  handleForm = (data, id) => {\n    this.toggleFormLoading();\n    if (id) {\n      this.editTodo(data, id);\n    } else {\n      this.addNewTodo(data);\n    }\n  }\n\n  addNewTodo = (data) => {\n    Api.post('/todos', data)\n      .then(todo => {\n        this.toggleModal();\n        this.setState({\n          todoList: [todo.data, ...this.state.todoList]\n        });\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.toggleFormLoading);\n  }\n\n  editTodo = (data, id) => {\n    Api.put(`/todos/${id}`, data)\n      .then(todo => {\n        this.handleUpdate(id, todo.data);\n        this.toggleModal();\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.toggleFormLoading);\n  }\n\n  toggleFormLoading = () => {\n    this.setState({\n      isPosting: !this.state.isPosting\n    });\n  }\n\n  toggleModal = (data) => {\n\n    if (data) {\n      this.modalData = data;\n    } else {\n      this.modalData = {};\n    }\n\n    this.setState({\n      showModal: !this.state.showModal\n    });\n  }\n\n  handleDelete = (id) => {\n    this.setState({\n      todoList: this.state.todoList.filter(todo => {\n        if (todo.id === id) return false;\n        return true;\n      })\n    });\n  }\n\n  handleUpdate = (id, data) => {\n    this.setState({\n      todoList: this.state.todoList.map(todo => {\n        if (todo.id === id) return data;\n        return todo;\n      })\n    })\n  }\n\n  render() {\n    if (!this.props.token) {\n      return <Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />\n    }\n\n    let list = this.state.todoList;\n    const currentPath = (this.props.location.pathname).split('/')[1];\n\n    if (currentPath === 'active' || currentPath === 'done') {\n      list = this.state.todoList.filter(todo => todo.status === currentPath);\n    }\n\n    return (\n      <div>\n        {this.state.showModal &&\n          <Modal submitHandler={this.handleForm} loading={this.state.isPosting} initialData={this.modalData} />\n        }\n        <div>Home</div>\n        <Nav links={this.nav} />\n        <div>\n          <Button type=\"button\" clickHandler={this.toggleModal}>Add Todo</Button>\n        </div>\n        <div>\n          <Button type=\"button\" clickHandler={this.props.logoutHandler}>Logout</Button>\n        </div>\n        <EnchancedList\n          error={this.state.error}\n          isLoading={this.state.isLoading}\n          deleteHandler={this.handleDelete}\n          updateHandler={this.handleUpdate}\n          editHandler={this.toggleModal}\n          list={list} />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\n\nimport Todo from '../Todo';\n\nfunction List({list, ...props}) {\n  return(\n    list.map(todo => <Todo detail={todo} key={todo.id} {...props} />)\n  );\n}\n\nexport default List;\n","import Home from './Home';\n\nexport default Home;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Login from './pages/Login';\nimport Home from './pages/Home';\n\nfunction Routes(props) {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route\n          exact\n          path='/login'\n          render={renderProps => <Login {...renderProps} {...props} />} />\n        <Route\n          path='/'\n          render={renderProps => <Home {...renderProps} {...props} />} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default Routes;\n","import React from 'react';\n\nimport Routes from './routes';\nimport Api from './api/ApiUtils';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      token: '',\n      id: '',\n      username: ''\n    }\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token') || '';\n\n    this.setState({ token: token });\n    \n    if (token) {\n      Api.get('/users')\n        .then(res => {\n          this.setToken(res.data);\n        })\n        .catch(() => this.removeToken);\n    }\n  }\n\n  setToken = ({ token, id, username }) => {\n    this.setState({\n      token,\n      id,\n      username\n    });\n\n    localStorage.setItem('token', token);\n  }\n\n  removeToken = () => {\n    this.setState({\n      token: '',\n      id: '',\n      username: ''\n    });\n\n    localStorage.removeItem('token');\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Routes token={this.state.token} tokenHandler={this.setToken} logoutHandler={this.removeToken} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}
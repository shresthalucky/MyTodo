{"version":3,"sources":["api/ApiUtils.js","components/Input/Input.jsx","components/Input/index.js","components/Button/Button.jsx","components/Button/index.js","pages/Login/index.js","pages/Login/Login.js","components/Nav/Nav.jsx","components/Nav/index.js","components/Todo/Todo.jsx","components/Todo/index.js","components/Modal/Modal.jsx","components/Modal/index.js","hoc/withLoading.js","pages/Home/Home.js","components/List/List.jsx","pages/Home/index.js","routes.js","App.js","index.js"],"names":["instance","axois","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","authorization","err","Promise","reject","Input","type","name","value","changeHandler","placeholder","className","onChange","Button","disabled","clickHandler","icon","children","onClick","Login","props","handleInput","e","setState","target","toggleDisable","isDisable","state","setErrorMessage","message","errorMessage","handleLogin","Api","post","username","password","then","res","tokenHandler","data","catch","response","handleRegister","from","this","location","pathname","to","React","Component","Nav","links","map","path","key","Todo","detail","deleteHandler","updateHandler","editHandler","id","title","description","created","updated","status","useState","setIsDisable","Date","toLocaleString","put","todo","console","log","delete","Form","Modal","submitHandler","initialData","loading","setTitle","setDescription","handleChange","onSubmit","preventDefault","withLoading","EnchancedList","isLoading","error","list","Home","handleForm","toggleFormLoading","editTodo","addNewTodo","toggleModal","todoList","finally","handleUpdate","isPosting","modalData","showModal","handleDelete","filter","nav","get","currentPath","split","logoutHandler","Routes","exact","render","renderProps","App","setToken","setItem","removeToken","removeItem","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f37a8ae.chunk.js","sourcesContent":["import axois from 'axios';\n\nconst baseUrl = 'https://todo-express-rest-api.herokuapp.com/api/';\n// const baseUrl = 'http://127.0.0.1:1234/api/';\n\nconst instance = axois.create({\n  baseURL: baseUrl,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\ninstance.interceptors.request.use(config => {\n  const token = localStorage.getItem('token') || '';\n  \n  if (token) {\n    config.headers.authorization = token;\n  }\n\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\n\nexport default instance;\n","import React from 'react';\n\nfunction Input({ type, name, value, changeHandler, placeholder }) {\n  return (\n    <input\n      className=\"input input--primary\"\n      type={type}\n      name={name}\n      value={value}\n      onChange={changeHandler}\n      placeholder={placeholder} />\n  );\n}\n\nexport default Input;\n","import Input from './Input';\n\nexport default Input;\n","import React from 'react';\n\nfunction Button({ type, disabled, clickHandler, className, icon, children }) {\n\n  return (\n    <button\n      className={`btn btn--${className ? className : 'primary'}`}\n      type={type}\n      onClick={clickHandler}\n      disabled={disabled}>\n      {icon}\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import Button from './Button';\n\nexport default Button;\n","import Login from './Login';\n\nexport default Login;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { RiLoginCircleLine, RiAddCircleLine } from 'react-icons/ri';\n\nimport Api from '../../api/ApiUtils';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      isDisable: false,\n      errorMessage: '‏‏‎ ‎'\n    }\n  }\n\n  handleInput = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  toggleDisable = () => {\n    this.setState({\n      isDisable: !this.state.isDisable\n    });\n  }\n\n  setErrorMessage = (message) => {\n    this.setState({\n      errorMessage: message\n    });\n  }\n\n  handleLogin = (e) => {\n\n    this.toggleDisable();\n\n    Api.post('/users/login', {\n      username: this.state.username,\n      password: this.state.password\n    })\n      .then(res => {\n        this.props.tokenHandler(res.data);\n      })\n      .catch(err => {\n        this.setErrorMessage(err.response.data.message)\n        this.toggleDisable();\n      });\n  }\n\n  handleRegister = (e) => {\n\n    this.toggleDisable();\n\n    Api.post('/users/register', {\n      username: this.state.username,\n      password: this.state.password\n    })\n      .then(res => {\n        this.props.tokenHandler(res.data);\n      })\n      .catch(err => {\n        this.setErrorMessage(err.response.data.message)\n        this.toggleDisable();\n      });\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\n\n    if (this.props.token) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div className=\"outer-wrapper\">\n        <div className=\"outer-wrapper__cell\">\n          <div className=\"login-wrapper\">\n            <div className=\"login-wrapper__input\">\n              <Input type=\"text\" changeHandler={this.handleInput} value={this.state.username} name=\"username\" placeholder=\"username\" />\n            </div>\n            <div className=\"login-wrapper__input\">\n              <Input type=\"password\" changeHandler={this.handleInput} value={this.state.password} name=\"password\" placeholder=\"password\" />\n            </div>\n            <div className=\"errorMessage\">{this.state.errorMessage}</div>\n            <div className=\"login-buttons\">\n              <Button\n                type=\"button\"\n                className=\"purple\"\n                clickHandler={this.handleLogin}\n                icon={<RiLoginCircleLine />}\n                disabled={this.state.isDisable}>\n                Login</Button>\n\n              <Button\n                type=\"button\"\n                className=\"blue\"\n                clickHandler={this.handleRegister}\n                icon={<RiAddCircleLine />}\n                disabled={this.state.isDisable}>\n                Register</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction Nav({ links }) {\n  return (\n    links.map(path => <NavLink to={path.to} key={path.name}>{path.name}</NavLink>)\n  );\n}\n\nexport default Nav;\n","import Nav from './Nav';\n\nexport default Nav;\n","import React, { useState } from 'react';\n\nimport Api from '../../api/ApiUtils';\nimport Button from '../Button';\n\nfunction Todo({ detail, deleteHandler, updateHandler, editHandler }) {\n\n  const { id, title, description, created, updated, status } = detail;\n  const [isDisable, setIsDisable] = useState(false);\n\n  const deleteTodo = () => {\n\n    setIsDisable(true);\n\n    Api.delete(`/todos/${id}`)\n      .then(() => {\n        deleteHandler(id);\n      })\n      .catch(err => console.log(err));\n  }\n\n  const toggleStatus = () => {\n\n    setIsDisable(true);\n\n    const data = {\n      title,\n      description,\n      status: status === 'active' ? 'done' : 'active'\n    }\n\n    Api.put(`/todos/${id}`, data)\n      .then(todo => {\n        updateHandler(id, todo.data);\n      })\n      .catch(err => console.log(err));\n  }\n\n  const editTodo = () => {\n    editHandler(detail);\n  }\n\n  return (\n    <div>\n      <h3>{title}</h3>\n      <p>{description}</p>\n      <p>{created}</p>\n      <p>{new Date(created * 1000).toLocaleString()}</p>\n      <p>{new Date(updated * 1000).toLocaleString()}</p>\n      <div>\n        <Button type=\"button\" clickHandler={toggleStatus} disabled={isDisable}>{status === 'done' ? 'Undone' : 'Done'}</Button>\n        <Button type=\"button\" clickHandler={editTodo} disabled={isDisable}>Edit</Button>\n        <Button type=\"button\" clickHandler={deleteTodo} disabled={isDisable}>Delete</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Todo;\n","import Todo from './Todo';\n\nexport default Todo;\n","import React, { useState } from 'react';\n\nimport Button from '../Button';\n\nfunction Form({ submitHandler, initialData, loading }) {\n\n  const [title, setTitle] = useState(initialData.title || '');\n  const [description, setDescription] = useState(initialData.description || '');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const status = initialData.status || 'active';\n    submitHandler({title, description, status}, initialData.id);\n  }\n\n  const handleChange = (e) => {\n    if (e.target.name === 'title') setTitle(e.target.value);\n    if (e.target.name === 'description') setDescription(e.target.value);\n  }\n\n  const handleClear = () => {\n    setTitle('');\n    setDescription('');\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <input name=\"title\" placeholder=\"Title\" onChange={handleChange} value={title} />\n        </div>\n        <div>\n          <textarea name=\"description\" placeholder=\"Description\" onChange={handleChange} value={description} />\n        </div>\n        <div>\n          <Button type=\"reset\" clickHandler={handleClear}>Clear</Button>\n          <Button type=\"submit\">{initialData.title ? 'Update' : 'Add'}</Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Form;\n","import Modal from './Modal';\n\nexport default Modal;\n","import React from 'react';\n\nfunction withLoading(Component) {\n\n  function LoadingComponent({ isLoading, error, ...props }) {\n\n    if (error) {\n      return (\n        <span>Error Occured!</span>\n      );\n    }\n\n    if (!isLoading) {\n      return (<Component {...props} />)\n    }\n\n    return (<div>Loading...</div>);\n\n  }\n\n  return LoadingComponent;\n}\n\nexport default withLoading;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport Api from '../../api/ApiUtils';\nimport Nav from '../../components/Nav';\nimport List from '../../components/List';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport withLoading from '../../hoc/withLoading';\n\nconst EnchancedList = withLoading(List);\n\nclass Home extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      todoList: [],\n      isLoading: true,\n      error: false,\n      isPosting: false,\n      showModal: false\n    }\n\n    this.nav = [\n      { name: 'All', to: '/' },\n      { name: 'Active', to: '/active' },\n      { name: 'Done', to: '/done' },\n    ]\n\n    this.modalData = {};\n  }\n\n  componentDidMount() {\n    if (this.props.token) {\n      Api.get('/todos')\n        .then(list => {\n          this.setState({\n            todoList: list.data,\n            isLoading: false\n          })\n        })\n        .catch(() => {\n          this.setState({ error: true })\n        });\n    }\n  }\n\n  handleForm = (data, id) => {\n    this.toggleFormLoading();\n    if (id) {\n      this.editTodo(data, id);\n    } else {\n      this.addNewTodo(data);\n    }\n  }\n\n  addNewTodo = (data) => {\n    Api.post('/todos', data)\n      .then(todo => {\n        this.toggleModal();\n        this.setState({\n          todoList: [todo.data, ...this.state.todoList]\n        });\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.toggleFormLoading);\n  }\n\n  editTodo = (data, id) => {\n    Api.put(`/todos/${id}`, data)\n      .then(todo => {\n        this.handleUpdate(id, todo.data);\n        this.toggleModal();\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.toggleFormLoading);\n  }\n\n  toggleFormLoading = () => {\n    this.setState({\n      isPosting: !this.state.isPosting\n    });\n  }\n\n  toggleModal = (data) => {\n\n    if (data) {\n      this.modalData = data;\n    } else {\n      this.modalData = {};\n    }\n\n    this.setState({\n      showModal: !this.state.showModal\n    });\n  }\n\n  handleDelete = (id) => {\n    this.setState({\n      todoList: this.state.todoList.filter(todo => {\n        if (todo.id === id) return false;\n        return true;\n      })\n    });\n  }\n\n  handleUpdate = (id, data) => {\n    this.setState({\n      todoList: this.state.todoList.map(todo => {\n        if (todo.id === id) return data;\n        return todo;\n      })\n    })\n  }\n\n  render() {\n    if (!this.props.token) {\n      return <Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />\n    }\n\n    let list = this.state.todoList;\n    const currentPath = (this.props.location.pathname).split('/')[1];\n\n    if (currentPath === 'active' || currentPath === 'done') {\n      list = this.state.todoList.filter(todo => todo.status === currentPath);\n    }\n\n    return (\n      <div>\n        {this.state.showModal &&\n          <Modal submitHandler={this.handleForm} loading={this.state.isPosting} initialData={this.modalData} />\n        }\n        <div>Home</div>\n        <Nav links={this.nav} />\n        <div>\n          <Button type=\"button\" clickHandler={this.toggleModal}>Add Todo</Button>\n        </div>\n        <div>\n          <Button type=\"button\" clickHandler={this.props.logoutHandler}>Logout</Button>\n        </div>\n        <EnchancedList\n          error={this.state.error}\n          isLoading={this.state.isLoading}\n          deleteHandler={this.handleDelete}\n          updateHandler={this.handleUpdate}\n          editHandler={this.toggleModal}\n          list={list} />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\n\nimport Todo from '../Todo';\n\nfunction List({list, ...props}) {\n  return(\n    list.map(todo => <Todo detail={todo} key={todo.id} {...props} />)\n  );\n}\n\nexport default List;\n","import Home from './Home';\n\nexport default Home;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Login from './pages/Login';\nimport Home from './pages/Home';\n\nfunction Routes(props) {\n  return (\n    <Router>\n      <Switch>\n        <Route\n          exact\n          path='/login'\n          render={renderProps => <Login {...renderProps} {...props} />} />\n        <Route\n          path='/'\n          render={renderProps => <Home {...renderProps} {...props} />} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default Routes;\n","import React from 'react';\n\nimport Routes from './routes';\nimport Api from './api/ApiUtils';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      token: '',\n      id: '',\n      username: ''\n    }\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token') || '';\n\n    this.setState({ token: token });\n    \n    if (token) {\n      Api.get('/users')\n        .then(res => {\n          this.setToken(res.data);\n        })\n        .catch(() => this.removeToken);\n    }\n  }\n\n  setToken = ({ token, id, username }) => {\n    this.setState({\n      token,\n      id,\n      username\n    });\n\n    localStorage.setItem('token', token);\n  }\n\n  removeToken = () => {\n    this.setState({\n      token: '',\n      id: '',\n      username: ''\n    });\n\n    localStorage.removeItem('token');\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Routes token={this.state.token} tokenHandler={this.setToken} logoutHandler={this.removeToken} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}